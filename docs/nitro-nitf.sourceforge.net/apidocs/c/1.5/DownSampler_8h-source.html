<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NITF: DownSampler.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">nitf</a></div>
<h1>DownSampler.h</h1><a href="DownSampler_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/* =========================================================================</span>
00002 <span class="comment"> * This file is part of NITRO</span>
00003 <span class="comment"> * =========================================================================</span>
00004 <span class="comment"> * </span>
00005 <span class="comment"> * (C) Copyright 2004 - 2008, General Dynamics - Advanced Information Systems</span>
00006 <span class="comment"> *</span>
00007 <span class="comment"> * NITRO is free software; you can redistribute it and/or modify</span>
00008 <span class="comment"> * it under the terms of the GNU Lesser General Public License as published by</span>
00009 <span class="comment"> * the Free Software Foundation; either version 3 of the License, or</span>
00010 <span class="comment"> * (at your option) any later version.</span>
00011 <span class="comment"> *</span>
00012 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
00013 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00014 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00015 <span class="comment"> * GNU Lesser General Public License for more details.</span>
00016 <span class="comment"> *</span>
00017 <span class="comment"> * You should have received a copy of the GNU Lesser General Public </span>
00018 <span class="comment"> * License along with this program; if not, If not, </span>
00019 <span class="comment"> * see &lt;http://www.gnu.org/licenses/&gt;.</span>
00020 <span class="comment"> *</span>
00021 <span class="comment"> */</span>
00022 
00023 <span class="preprocessor">#ifndef __NITF_DOWNSAMPLER_H__</span>
00024 <span class="preprocessor"></span><span class="preprocessor">#define __NITF_DOWNSAMPLER_H__</span>
00025 <span class="preprocessor"></span>
00026 
00027 <span class="preprocessor">#include "<a class="code" href="System_8h.html">nitf/System.h</a>"</span>
00028 <span class="preprocessor">#include "<a class="code" href="IOHandle_8h.html">nitf/IOHandle.h</a>"</span>
00029 
<a name="l00031"></a><a class="code" href="DownSampler_8h.html#a0">00031</a> <span class="preprocessor">#   define NITF_PIXEL_TYPE_INT ((nitf_Uint32) 0x00080000)</span>
00032 <span class="preprocessor"></span>
<a name="l00034"></a><a class="code" href="DownSampler_8h.html#a1">00034</a> <span class="preprocessor">#   define NITF_PIXEL_TYPE_B ((nitf_Uint32) 0x00100000)</span>
00035 <span class="preprocessor"></span>
<a name="l00037"></a><a class="code" href="DownSampler_8h.html#a2">00037</a> <span class="preprocessor">#   define NITF_PIXEL_TYPE_SI ((nitf_Uint32) 0x00200000)</span>
00038 <span class="preprocessor"></span>
<a name="l00040"></a><a class="code" href="DownSampler_8h.html#a3">00040</a> <span class="preprocessor">#   define NITF_PIXEL_TYPE_R ((nitf_Uint32) 0x00400000)</span>
00041 <span class="preprocessor"></span>
<a name="l00043"></a><a class="code" href="DownSampler_8h.html#a4">00043</a> <span class="preprocessor">#   define NITF_PIXEL_TYPE_C ((nitf_Uint32) 0x00800000)</span>
00044 <span class="preprocessor"></span>
00045 
00046 <a class="code" href="Defines_8h.html#a11">NITF_CXX_GUARD</a>
00047 
00048 <span class="keyword">struct </span><a class="code" href="struct__nitf__DownSampler.html">_nitf_DownSampler</a>;
00049 
00050 <span class="comment">/*</span>
00051 <span class="comment"> * This callback provides the interface for applying a sampling method while</span>
00052 <span class="comment"> * reading. The object argument gives access to the userData field which</span>
00053 <span class="comment"> * allows for customization of the available fields for this callback.</span>
00054 <span class="comment"> * A transformation  between the input window and the output window occurs in</span>
00055 <span class="comment"> * this  method.</span>
00056 <span class="comment"> *  \param object The associated down-sample object</span>
00057 <span class="comment"> *  \param inputWindows Array of input image fragments (one/band)</span>
00058 <span class="comment"> *  \param outputWindow Array of sub-sampled image fragments (one/band)</span>
00059 <span class="comment"> *  \param numBands Number of bands to down-sample</span>
00060 <span class="comment"> *  \param numWindowRows How many rows for the input window</span>
00061 <span class="comment"> *  \param numWindowCols How many cols for the input window</span>
00062 <span class="comment"> *  \param numInputCols  Number of columns in input buffer, full res</span>
00063 <span class="comment"> *  \param numSubWindowCols The number of columns in the sub-window</span>
00064 <span class="comment"> *  \param pixelType The pixel type (valid values found in System.h)</span>
00065 <span class="comment"> *  \param pixelSize The size of one pixel</span>
00066 <span class="comment"> *  \param rowsInLastWindow The number of rows in the final window</span>
00067 <span class="comment"> *  \param colsInLastWindow The number of cols in the final window</span>
00068 <span class="comment"> *  \param error An error to populate if something bad happened</span>
00069 <span class="comment"> *  \return NITF_SUCCESS on success, NITF_FAILURE on failure</span>
00070 <span class="comment"> *</span>
00071 <span class="comment"> * Note:</span>
00072 <span class="comment"> *</span>
00073 <span class="comment"> *  The numWindowRows, numWindowCols, and numSubWindowCols values are</span>
00074 <span class="comment"> *  in output image units (units of sample windows). For example, with</span>
00075 <span class="comment"> *  a pixel skip of 3 in columns, if the sub-window request spans columns</span>
00076 <span class="comment"> *  0-299, then numSubWindowCols is 100. If the block is such that a</span>
00077 <span class="comment"> *  particular request spans columns 90-149 (60 full resolution columns),</span>
00078 <span class="comment"> *  then numWindowCols is 20. The numInputCols value is in full resolution</span>
00079 <span class="comment"> *  units. This value gives the length, in pixels of one row in the input</span>
00080 <span class="comment"> *  buffer. This buffer is used for all down-sample calls. Since the number</span>
00081 <span class="comment"> *  of windows can vary from call to call, this buffer has a worst case</span>
00082 <span class="comment"> *  length. Therefore, it is not possible to move from one row to the next</span>
00083 <span class="comment"> *  with just the number of sample windows per row (numWindowCols) for the</span>
00084 <span class="comment"> *  current request</span>
00085 <span class="comment"> */</span>
<a name="l00086"></a><a class="code" href="DownSampler_8h.html#a21">00086</a> <span class="keyword">typedef</span> <a class="code" href="Defines_8h.html#a4">NITF_BOOL</a>(*NITF_IDOWNSAMPLER_APPLY) (<span class="keyword">struct </span><a class="code" href="struct__nitf__DownSampler.html">_nitf_DownSampler</a> *
00087         object,
00088         <a class="code" href="Types_8h.html#a36">NITF_DATA</a> ** inputWindows,
00089         <a class="code" href="Types_8h.html#a36">NITF_DATA</a> ** outputWindows,
00090         <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> numBands,
00091         <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> numWindowRows,
00092         <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> numWindowCols,
00093         <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> numInputCols,
00094         <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> numSubWindowCols,
00095         <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> pixelType,
00096         <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> pixelSize,
00097         <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> rowsInLastWindow,
00098         <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> colsInLastWindow,
00099         <a class="code" href="structnitf__Error.html">nitf_Error</a> * error);
00100 
00101 
<a name="l00107"></a><a class="code" href="DownSampler_8h.html#a22">00107</a> <span class="keyword">typedef</span> void (*NITF_IDOWNSAMPLER_DESTRUCT) (<a class="code" href="Types_8h.html#a36">NITF_DATA</a> * userData);
00108 
<a name="l00117"></a><a class="code" href="struct__nitf__IDownSampler.html">00117</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__nitf__IDownSampler.html">_nitf_IDownSampler</a>
00118 {
<a name="l00119"></a><a class="code" href="struct__nitf__IDownSampler.html#__nitf__IDownSamplero0">00119</a>     <a class="code" href="DownSampler_8h.html#a21">NITF_IDOWNSAMPLER_APPLY</a> apply;      <span class="comment">/*  The apply method  */</span>
<a name="l00120"></a><a class="code" href="struct__nitf__IDownSampler.html#__nitf__IDownSamplero1">00120</a>     <a class="code" href="DownSampler_8h.html#a22">NITF_IDOWNSAMPLER_DESTRUCT</a> destruct;        <span class="comment">/*  A destructor hook  */</span>
00121 }
00122 <a class="code" href="structnitf__IDownSampler.html">nitf_IDownSampler</a>;
00123 
00124 
<a name="l00153"></a><a class="code" href="struct__nitf__DownSampler.html">00153</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__nitf__DownSampler.html">_nitf_DownSampler</a>
00154 {
<a name="l00155"></a><a class="code" href="struct__nitf__DownSampler.html#__nitf__DownSamplero0">00155</a>     <a class="code" href="structnitf__IDownSampler.html">nitf_IDownSampler</a> *iface;   <span class="comment">/* The functional interface  */</span>
<a name="l00156"></a><a class="code" href="struct__nitf__DownSampler.html#__nitf__DownSamplero1">00156</a>     <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> rowSkip;        <span class="comment">/* The number of rows in the down-sample window */</span>
<a name="l00157"></a><a class="code" href="struct__nitf__DownSampler.html#__nitf__DownSamplero2">00157</a>     <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> colSkip;        <span class="comment">/* The number of cols in the down-sample window */</span>
<a name="l00158"></a><a class="code" href="struct__nitf__DownSampler.html#__nitf__DownSamplero3">00158</a>     <a class="code" href="Defines_8h.html#a4">NITF_BOOL</a> multiBand;        <span class="comment">/* The down-sampler method is muli-band */</span>
<a name="l00159"></a><a class="code" href="struct__nitf__DownSampler.html#__nitf__DownSamplero4">00159</a>     <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> minBands;       <span class="comment">/* Minimum number of bands in multi-band method */</span>
<a name="l00160"></a><a class="code" href="struct__nitf__DownSampler.html#__nitf__DownSamplero5">00160</a>     <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> maxBands;       <span class="comment">/* Maxmum number of bands in multi-band method */</span>
<a name="l00161"></a><a class="code" href="struct__nitf__DownSampler.html#__nitf__DownSamplero6">00161</a>     <a class="code" href="Types_8h.html#a24">nitf_Uint32</a> types;          <span class="comment">/* Mask of type/pixel size flags */</span>
<a name="l00162"></a><a class="code" href="struct__nitf__DownSampler.html#__nitf__DownSamplero7">00162</a>     <a class="code" href="Types_8h.html#a36">NITF_DATA</a> *data;            <span class="comment">/* To be overloaded by derived class  */</span>
00163 }
00164 <a class="code" href="structnitf__DownSampler.html">nitf_DownSampler</a>;
00165 
00166 
<a name="l00168"></a><a class="code" href="DownSampler_8h.html#a5">00168</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_INT_1BYTE ((nitf_Uint32) 0x00000001)</span>
00169 <span class="preprocessor"></span>
<a name="l00170"></a><a class="code" href="DownSampler_8h.html#a6">00170</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_INT_2BYTE ((nitf_Uint32) 0x00000002)</span>
00171 <span class="preprocessor"></span>
<a name="l00172"></a><a class="code" href="DownSampler_8h.html#a7">00172</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_INT_4BYTE ((nitf_Uint32) 0x00000004)</span>
00173 <span class="preprocessor"></span>
<a name="l00174"></a><a class="code" href="DownSampler_8h.html#a8">00174</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_INT_8BYTE ((nitf_Uint32) 0x00000008)</span>
00175 <span class="preprocessor"></span>
<a name="l00179"></a><a class="code" href="DownSampler_8h.html#a9">00179</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_B_1BYTE ((nitf_Uint32) 0x00000001)</span>
00180 <span class="preprocessor"></span>
<a name="l00182"></a><a class="code" href="DownSampler_8h.html#a10">00182</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_SI_1BYTE ((nitf_Uint32) 0x00000010)</span>
00183 <span class="preprocessor"></span>
<a name="l00184"></a><a class="code" href="DownSampler_8h.html#a11">00184</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_SI_2BYTE ((nitf_Uint32) 0x00000020)</span>
00185 <span class="preprocessor"></span>
<a name="l00186"></a><a class="code" href="DownSampler_8h.html#a12">00186</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_SI_4BYTE ((nitf_Uint32) 0x00000040)</span>
00187 <span class="preprocessor"></span>
<a name="l00188"></a><a class="code" href="DownSampler_8h.html#a13">00188</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_SI_8BYTE ((nitf_Uint32) 0x00000080)</span>
00189 <span class="preprocessor"></span>
<a name="l00191"></a><a class="code" href="DownSampler_8h.html#a14">00191</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_R_4BYTE ((nitf_Uint32) 0x00000100)</span>
00192 <span class="preprocessor"></span>
<a name="l00193"></a><a class="code" href="DownSampler_8h.html#a15">00193</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_R_8BYTE ((nitf_Uint32) 0x00000200)</span>
00194 <span class="preprocessor"></span>
<a name="l00196"></a><a class="code" href="DownSampler_8h.html#a16">00196</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_C_8BYTE ((nitf_Uint32) 0x00001000)</span>
00197 <span class="preprocessor"></span>
<a name="l00198"></a><a class="code" href="DownSampler_8h.html#a17">00198</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_C_16BYTE ((nitf_Uint32) 0x00002000)</span>
00199 <span class="preprocessor"></span>
<a name="l00201"></a><a class="code" href="DownSampler_8h.html#a18">00201</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_ALL \</span>
00202 <span class="preprocessor">    ( \</span>
00203 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_INT_1BYTE | \</span>
00204 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_INT_2BYTE | \</span>
00205 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_INT_4BYTE | \</span>
00206 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_INT_8BYTE | \</span>
00207 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_B_1BYTE   | \</span>
00208 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_SI_1BYTE  | \</span>
00209 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_SI_2BYTE  | \</span>
00210 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_SI_4BYTE  | \</span>
00211 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_SI_8BYTE  | \</span>
00212 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_R_4BYTE   | \</span>
00213 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_R_8BYTE   | \</span>
00214 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_C_8BYTE   | \</span>
00215 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_C_16BYTE    \</span>
00216 <span class="preprocessor">    )</span>
00217 <span class="preprocessor"></span>
<a name="l00219"></a><a class="code" href="DownSampler_8h.html#a19">00219</a> <span class="preprocessor">#   define NITF_DOWNSAMPLER_TYPE_ALL_BUT_COMPLEX \</span>
00220 <span class="preprocessor">    ( \</span>
00221 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_INT_1BYTE | \</span>
00222 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_INT_2BYTE | \</span>
00223 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_INT_4BYTE | \</span>
00224 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_INT_8BYTE | \</span>
00225 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_B_1BYTE   | \</span>
00226 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_SI_1BYTE  | \</span>
00227 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_SI_2BYTE  | \</span>
00228 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_SI_4BYTE  | \</span>
00229 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_SI_8BYTE  | \</span>
00230 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_R_4BYTE   | \</span>
00231 <span class="preprocessor">      NITF_DOWNSAMPLER_TYPE_R_8BYTE     \</span>
00232 <span class="preprocessor">    )</span>
00233 <span class="preprocessor"></span>
00251 <a class="code" href="Defines_8h.html#a5">NITFAPI</a>(<a class="code" href="structnitf__DownSampler.html">nitf_DownSampler</a> *) nitf_PixelSkip_construct(nitf_Uint32 rowSkip,
00252         nitf_Uint32 colSkip,
00253         <a class="code" href="structnitf__Error.html">nitf_Error</a> * error);
00254 
00255 
00274 NITFAPI(<a class="code" href="structnitf__DownSampler.html">nitf_DownSampler</a> *) nitf_MaxDownSample_construct(nitf_Uint32
00275         rowSkip,
00276         nitf_Uint32
00277         colSkip,
00278         <a class="code" href="structnitf__Error.html">nitf_Error</a> *
00279         error);
00280 
00298 NITFAPI(<a class="code" href="structnitf__DownSampler.html">nitf_DownSampler</a> *) nitf_SumSq2DownSample_construct(nitf_Uint32
00299         rowSkip,
00300         nitf_Uint32
00301         colSkip,
00302         <a class="code" href="structnitf__Error.html">nitf_Error</a> *
00303         error);
00304 
00322 NITFAPI(<a class="code" href="structnitf__DownSampler.html">nitf_DownSampler</a> *) nitf_Select2DownSample_construct(nitf_Uint32
00323         rowSkip,
00324         nitf_Uint32
00325         colSkip,
00326         <a class="code" href="structnitf__Error.html">nitf_Error</a> *
00327         error);
00328 
00336 NITFAPI(<span class="keywordtype">void</span>) nitf_DownSampler_destruct(<a class="code" href="structnitf__DownSampler.html">nitf_DownSampler</a> ** downsampler);
00337 
00348 #define nitf_DownSampler_apply(object,inputWindows,outputWindows,numBands, \
00349                                numWindowRows,numWindowCols,numInputCols,numSubWindowCols, \
<a name="l00350"></a><a class="code" href="DownSampler_8h.html#a20">00350</a>                                pixelType,pixelSize,rowsInLastWindow,colsInLastWindow,error) \
00351 ((*(object-&gt;iface-&gt;apply))(object,inputWindows,outputWindows,numBands, \
00352                            numWindowRows,numWindowCols,numInputCols,numSubWindowCols,  \
00353                            pixelType, pixelSize,rowsInLastWindow,colsInLastWindow,error)) \
00354 
00355 NITF_CXX_ENDGUARD
00356 
00357 #endif
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Mar 1 13:51:10 2008 for NITF by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
